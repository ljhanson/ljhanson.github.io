<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.123.7">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>ljhanson.github.io</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="http://localhost:1313/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="http://localhost:1313/css/poole.css">
  <link type="text/css" rel="stylesheet" href="http://localhost:1313/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="http://localhost:1313/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="http://localhost:1313/index.xml" rel="alternate" type="application/rss+xml" title="ljhanson.github.io" />
  
</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://localhost:1313/"><h1>ljhanson.github.io</h1></a>
      <p class="lead">
      An elegant open source and mobile first theme for <a href="http://hugo.spf13.com">hugo</a> made by <a href="http://twitter.com/mdo">@mdo</a>. Originally made for Jekyll.
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="http://localhost:1313/">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2025. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="posts">
<article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/k3s-install-notes/">K3s Install Notes</a>
  </h1>
  <time datetime="2023-01-07T11:34:03-0500" class="post-date">Sat, Jan 7, 2023</time>
  #K3 Install Notes
Pre-Setup For 8Gb host use external mounts
ln -s /datadrive/k3s/ /run/k3s ln -s /datadrive/k3s-pods/ /var/lib/kubelet/pods ln -s /datadrive/k3s-rancher/ /var/lib/rancher ## Install ```sh &#39;--disable&#39; \ &#39;traefik&#39; \ &#39;--disable&#39; \ &#39;servicelb&#39; \ &#39;--disable&#39; \ &#39;metrics-server&#39; \ &#39;--disable&#39; \ &#39;local-storage&#39; \ &#39;--write-kubeconfig-mode 644&#39; \ &#39;--node-label &#34;k3s-upgrade=true&#34;&#39; \ &#39;--flannel-backend=wireguard-native&#39; - For worker nodes need: - K3S_TOKEN is at /var/lib/rancher/k3s/server/node-token on server - K3S_URL is &#34;https://&lt;server host&gt;:6443&#34; ## Setting up upgrades Install upgrade server ```sh kubectl apply -f https://github.
  
  <div class="read-more-link">
    <a href="/pages/k3s-install-notes/">Read More…</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/kured-restart-daemon/">Kured - Kubernetes Restart Daemon</a>
  </h1>
  <time datetime="2022-12-28T00:00:00Z" class="post-date">Wed, Dec 28, 2022</time>
  Kured is a Kubernetes daemonset that performs safe automatic node reboots when the need to do so is indicated by the package management system of the underlying OS. This should allow a full OS install, to be more like an appliance install like K3OS which is no longer being actively developed.
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/snippets-in-vscode/">Snippets in VSCode</a>
  </h1>
  <time datetime="2022-12-28T00:00:00Z" class="post-date">Wed, Dec 28, 2022</time>
  You can create snippets to add content to files in VSCode to put in boilerplate. In this example I&rsquo;m using a snippet to create the frontmatter for a blogpost.
{ &#34;Markdown FrontMatter&#34;: { &#34;prefix&#34;: &#34;eventFrontMatter&#34;, &#34;body&#34;: [ &#34;---&#34;, &#34;title: $1&#34;, &#34;date: $2&#34;, &#34;author: L.J. Hanson&#34;, &#34;tags: [$3]&#34;, &#34;slug: $4&#34;, &#34;description: $5&#34;, &#34;draft: true&#34;, &#34;---&#34;, &#34;&#34; ], &#34;description&#34;: &#34;Markdown FrontMatter&#34; } } 
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/nikola-setup-notes/">Nikola Setup Notes</a>
  </h1>
  <time datetime="2021-03-23T00:00:00Z" class="post-date">Tue, Mar 23, 2021</time>
  To get Pelican style metadata working in Nikola you must add the markdown metadata extension to your config.
MARKDOWN_EXTENSIONS = [ &#34;markdown.extensions.fenced_code&#34;, &#34;markdown.extensions.codehilite&#34;, &#34;markdown.extensions.extra&#34;, &#34;markdown.extensions.meta&#34;, ] 
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/cert-manager/">Cert Manager for Kubernetes</a>
  </h1>
  <time datetime="2021-01-21T00:00:00Z" class="post-date">Thu, Jan 21, 2021</time>
  Overall installtion instructions are here. Cert Manager was installed by Helm v3, with the custom resource definitions (CRD).
ClusterIssuer.yaml file sets up the connection to the CA (Let&rsquo;s Encrypt) in order to generate certs. - Requires an IAM policy for Route53 and DNS challenges - yaml file must be updated with approriate values (at a minimum role, possibly accessKey and secret)
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/ubuntu-unattended-upgradws/">Ubuntu unattended upgrades</a>
  </h1>
  <time datetime="2021-01-21T00:00:00Z" class="post-date">Thu, Jan 21, 2021</time>
  Unattended upgrades for Ubuntu
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/pi_install_-notes/">Pi Install Notes</a>
  </h1>
  <time datetime="2020-12-07T00:00:00Z" class="post-date">Mon, Dec 7, 2020</time>
  #Inital Install sudo apt update sudo apt upgrade sudo apt install avahi-daemon docker.io docker-compose sudo dpkg-reconfigure tzdata sudo adduser ljhanson sudo usermod -G docker, sudo sudo hostnamectl set-hostname pi sudo sed -r -i.orig &rsquo;s/#?DNSStubListener=yes/DNSStubListener=no/g&rsquo; /etc/systemd/resolved.conf Add hostname to /etc/hosts curl -L https://install.pivpn.io | bash sudo ufw allow ssh sudo ufw allow http sudo ufw allow https
Next two needed to keep DNS/DHCP on internal network only if using ipv6 tunnel sudo ufw allow in on eth0 to any port 67 sudo ufw allow in on eth0 to any port 53
  
  <div class="read-more-link">
    <a href="/pages/pi_install_-notes/">Read More…</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/splunk-notes/">Splunk Notes</a>
  </h1>
  <time datetime="2019-11-08T00:00:00Z" class="post-date">Fri, Nov 8, 2019</time>
  Splunk Components Indexer - Process, stores and creates events. Does this via time stamped directories. Search Head - Front End, consolidate and enrich results Forwarder - Agent that sends data to indexer These three represent the minimal install of splunk. Deployment Server Cluster Master License Master Roles Admin Can install apps, and create knowledge objects Power Can create and share knowledge objects for app users and do realtime searches. User Will only see own knowledge objects and those shared with them.
  
  <div class="read-more-link">
    <a href="/pages/splunk-notes/">Read More…</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/aws-security-notes/">Notes from AWS Security Maturity Roadmap by Scott Piper (summitroute.com)</a>
  </h1>
  <time datetime="2019-11-02T00:00:00Z" class="post-date">Sat, Nov 2, 2019</time>
  TODO: Subscribe to recommended keeping up to dates TODO: Buy/Read Securing DevOPS: Security in the Cloud
Most common security incidents
Public S3 buckets Leaked access keys Comprised IAM roles from EC2 allowing access to metadata service at 169.254.169.254 
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/docker-reference/">Docker Commands Reference</a>
  </h1>
  <time datetime="2019-10-08T00:00:00Z" class="post-date">Tue, Oct 8, 2019</time>
  Command Description start Start Container stop Stops Container restart Restart Container kill Kill Container attach Attach terminal to running container exec Excutes command within a running container inspect Detail output about running container in JSON history Shows history of container image Dockerfile Commands
Command Reference FROM Base image, usually first WORKDIR Set&rsquo;s working directory ADD Adds file from source to destination. Can be URL, Will Unzip COPY Copy from host machine.
  
  <div class="read-more-link">
    <a href="/pages/docker-reference/">Read More…</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/arm-sbc-notes/">ARM SBC Notes</a>
  </h1>
  <time datetime="2019-09-13T00:00:00Z" class="post-date">Fri, Sep 13, 2019</time>
  # Serial Console screen /dev/ttyUSB0 115200 # Installing Fedora Images on host sudo dnf -y install arm-image-installer # Writing Image File Usage: arm-image-installer &lt;options&gt; --addconsole - Add system console to extlinux.conf --addkey= - /path/to/ssh-public-key --image=IMAGE - xz compressed image file name --media=DEVICE - media device file (/dev/[sdX|mmcblkX]) --norootpass - Remove the root password --resizefs - Resize root filesystem to fill media device --supported - List of supported hardware --target=TARGET - target board --version - Display version and exit -y - Assumes yes, will not wait for confirmation Example: arm-image-installer --image=Fedora-Rawhide.
  
  <div class="read-more-link">
    <a href="/pages/arm-sbc-notes/">Read More…</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/your-kubernetes-control-plane-has-initialized-successfully/">Kubernetes Notes</a>
  </h1>
  <time datetime="2019-09-13T00:00:00Z" class="post-date">Fri, Sep 13, 2019</time>
  Your Kubernetes control-plane has initialized successfully!
* Kubeadm init to start the cluster off. Success:
To start using your cluster, you need to run the following as a regular user: mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config You should now deploy a pod network to the cluster. Run &#34;kubectl apply -f [podnetwork].yaml&#34; with one of the options listed at: https://kubernetes.io/docs/concepts/cluster-administration/addons/ Then you can join any number of worker nodes by running the following on each as root: kubeadm join 192.
  
  <div class="read-more-link">
    <a href="/pages/your-kubernetes-control-plane-has-initialized-successfully/">Read More…</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/idrac-notes/">Idrac Notes</a>
  </h1>
  <time datetime="2019-09-12T00:00:00Z" class="post-date">Thu, Sep 12, 2019</time>
  How to restart/power off from idrac terminal
# power server off racadm serveraction powerdown # power server on racadm serveraction powerup # perform server power cycle racadm serveraction powercycle # force hard server power reset racadm serveraction hardreset 
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/gitea-in-a-jail/">Gitea in a FreeBSD jail</a>
  </h1>
  <time datetime="2019-05-27T00:00:00Z" class="post-date">Mon, May 27, 2019</time>
  Gitea in a jail
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/bash-venv-functions/">Bash helper functions for venv</a>
  </h1>
  <time datetime="2019-05-25T00:00:00Z" class="post-date">Sat, May 25, 2019</time>
  Useful helper functions for venv
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/freebsd-12-notes-for-optiplex-755/">FreeBSD 12 notes for Optiplex 755</a>
  </h1>
  <time datetime="2019-01-12T00:00:00Z" class="post-date">Sat, Jan 12, 2019</time>
  Things to remember for next FreeBSD 12 install.
To switch to current, as opposed to quarterly packages, create the file /usr/local/etc/pkg/repos/FreeBSD.conf with the folowing content: FreeBSD: { url: &#34;pkg+http://pkg.FreeBSD.org/${ABI}/latest&#34; } drm-kmod package from ports gets KMS to work. 
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/powerline-fonts-in-chromeos-ssh-client/">Powerline fonts in ChromeOS ssh client</a>
  </h1>
  <time datetime="2017-03-12T00:00:00Z" class="post-date">Sun, Mar 12, 2017</time>
  For folks using powerline status bar, the correct font is important to ensure that powerline displays properly. The custom CSS file located here can be placed in the user ssh box of the ChromeOS ssh client.
Originally from github/wernight
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/powerline-from-ports-on-freebsd/">Powerline from ports on FreeBSD</a>
  </h1>
  <time datetime="2017-02-02T00:00:00Z" class="post-date">Thu, Feb 2, 2017</time>
  In your .profile add the following:
/usr/local/bin/powerline-daemon -q POWERLINE_BASH_CONTINUATION=1POWERLINE_BASH_SELECT=1 source /usr/local/lib/python2.7/site-packages/powerline/bindings/bash/powerline.sh Partly from here.
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/regular-expression-tester/">Regular Expression Tester</a>
  </h1>
  <time datetime="2017-01-05T00:00:00Z" class="post-date">Thu, Jan 5, 2017</time>
  A web based regular expression tester: Regex101
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/ensuring-you-have-pip-for-python-3-on-freebsd/">Ensuring you have pip for Python 3 on FreeBSD</a>
  </h1>
  <time datetime="2016-12-13T00:00:00Z" class="post-date">Tue, Dec 13, 2016</time>
  By default pip doesn&rsquo;t get installed with the python35 port. To fix this as root execute the following:
python3 -m ensurepip 
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/jupyter-notebooks-in-a-subdir-with-nginx/">Jupyter Notebooks in a subdir with nginx.</a>
  </h1>
  <time datetime="2016-12-13T00:00:00Z" class="post-date">Tue, Dec 13, 2016</time>
  Nginx section for subdir:
location ^~ /&lt;subdir&gt;/ { proxy_set_header X-Real-IP $remote_addr; proxy_set_header HOST $http_host; proxy_set_header X-NginX-Proxy true; proxy_pass http://127.0.0.1:8888; proxy_redirect off; proxy_http_version 1.1; proxy_set_header Upgrade &#34;websocket&#34;; proxy_set_header Connection &#34;Upgrade&#34;; proxy_read_timeout 86400; } Configuration changes for Jupyter:
c.NotebookApp.base_url = &#39;/&lt;subdir&gt;/&#39; c.NotebookApp.open_browser = False c.NotebookApp.password = &#39;&lt;password&gt;&#39; c.NotebookApp.trust_xheaders = True 
  
</article><article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/pages/no-place-like-home/">No place like home...</a>
  </h1>
  <time datetime="2016-02-23T00:00:00Z" class="post-date">Tue, Feb 23, 2016</time>
  This is my site until I get bored and stop updating it.
  
</article>
</div>
    </main>

    
  </body>
</html>
